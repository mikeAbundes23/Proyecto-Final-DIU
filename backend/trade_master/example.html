<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Comic List</title>
</head>
<body>
  <h1>Comics</h1>

  <h2>Available Comics</h2>
  <ul id="comicList"></ul>

  <script>
    const comicsEndpoint = 'http://127.0.0.1:8000/api/comics/';
    const comicList = document.querySelector('#comicList');

    const loadComics = async () => {
      try {
        const response = await fetch(comicsEndpoint);
        const data = await response.json();

        // Asumiendo que los c칩mics est치n en `data.data`
        const comics = data.data;
        console.log('Comics:', comics);
        comics.forEach(comic => addToComicList(comic));
      } catch (error) {
        console.error('Error fetching comics:', error);
      }
    };

    const addToComicList = (comic) => {
      const li = document.createElement('li');
      li.innerHTML = `
        <h3>${comic.title}</h3>
        <p><strong>Publisher:</strong> ${comic.publisher}</p>
        <p><strong>Edition:</strong> ${comic.edition}</p>
        <p><strong>Condition:</strong> ${comic.condition}</p>
        <p><strong>Description:</strong> ${comic.description}</p>
        <p><strong>Price:</strong> $${comic.price}</p>
        <p><strong>Category:</strong> ${comic.category}</p>
        <p><strong>Sold:</strong> ${comic.is_sold ? 'Yes' : 'No'}</p>
        ${comic.image ? `<img src="${comic.image}" alt="${comic.title}" width="200">` : '<p>No image available</p>'}
        <hr>
      `;
      comicList.appendChild(li);
    };

    // Cargar los c칩mics al cargar la p치gina
    loadComics();
  </script>
</body>
</html>
